@page
@model DevExtreme.Asp.Template.Gallery.Pages.Auth.ForgotPasswordModel
@{
    Layout = "_LayoutExtra";
}

<div class="auth-card">
    <div class="dx-card content">
        <div class="header">
            <div class="title" id="sign-up-title">
                Reset Password
            </div>
            <div class="description">
                "Please enter the email address that you used to register, and we will send you a link to reset your password via Email."
            </div>
           
        </div>
        <div class="content">
            <form class="reset-password-form">
                @(
                    Html.DevExtreme().Form()
                    .ID("form-instance-register")
                    .FormData(new JS("formData"))
                    .Items(items =>
                    {
                        items.AddSimple()
                        .DataField("email")
                        .Editor(e => e
                        .TextBox()
                        .StylingMode(EditorStylingMode.Filled)
                        .Placeholder("Email")
                        .Mode(TextBoxMode.Email)
                        .Value("jheart@dx-email.com")
                        )
                        .Label(l => l.Visible(false))
                        .ValidationRules(rules =>
                        {
                            rules.AddRequired().Message("Email is required");
                            rules.AddEmail().Message("Email is invalid.");
                        });

                        items.AddButton()
                        .ButtonOptions(b => b
                        .Width("100%")
                        .Type(ButtonType.Default)
                        .OnClick("onCreateSubmit")
                        .Template(new TemplateName("reset-password-button"))
                        );
                    })
                    )
                <div class="login-link">
                    Return to <a href="/Auth/Login">
                        Sign In
                    </a>
                </div>
            </form>

            @using (Html.DevExtreme().NamedTemplate("reset-password-button"))
            {
                <div>
                    <span class="dx-button-text">
                        @(Html.DevExtreme().LoadIndicator()
                            .Width("24px")
                            .Height("24px")
                            .Visible(false)
                            .ID("accountLoadingIndicator")
                            )
                        <span id="sign-in-text">Create a new account</span>
                    </span>
                </div>
            }
        </div>
    </div>
</div>

<script>
    const formData = {
        email: 'jheart@dx-email.com',
        password: 'password',
    }

    function onCreateSubmit() {
        location.href = "/Auth/Login";
    }
</script>